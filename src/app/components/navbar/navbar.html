<header
  class="fixed top-0 inset-x-0 z-50 transition-all duration-300"
  [class]="scrolled()
    ? 'bg-white/95 backdrop-blur-md shadow-sm border-b border-slate-200/80'
    : 'bg-transparent'"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16 lg:h-20">

      <!-- Logo -->
      <a routerLink="/" (click)="closeMenu()" class="flex items-center gap-2.5 group">
        <div class="w-9 h-9 rounded-xl bg-primary flex items-center justify-center shadow-sm group-hover:bg-primary/90 transition-colors">
          <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 4a1 1 0 0 1 1-1h12a1 1 0 0 1 .894.553L19.382 7H21a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1.17A3 3 0 0 1 14 17H10a3 3 0 0 1-5.83-2H4a1 1 0 0 1-1-1V4zm14.382 3-1.5-3H5v9h.17A3 3 0 0 1 10 11h4a3 3 0 0 1 4.83 2H21V9h-2a1 1 0 0 1-.894-.553L17.382 7zM8 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm6 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
          </svg>
        </div>
        <span
          class="text-xl font-bold tracking-tight transition-colors"
          [class]="scrolled() ? 'text-slate-900' : 'text-white'"
        >
          Fretes<span class="text-brand-green">JA</span>
        </span>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden lg:flex items-center gap-1">
        <a
          routerLink="/"
          routerLinkActive="text-primary font-semibold"
          [routerLinkActiveOptions]="{ exact: true }"
          class="px-4 py-2 rounded-lg text-sm font-medium transition-colors hover:bg-white/10"
          [class]="scrolled() ? 'text-slate-700 hover:bg-slate-100 hover:text-slate-900' : 'text-slate-200 hover:text-white'"
        >
          Início
        </a>
        <a
          routerLink="/cargas-disponiveis"
          routerLinkActive="text-primary font-semibold"
          class="px-4 py-2 rounded-lg text-sm font-medium transition-colors"
          [class]="scrolled() ? 'text-slate-700 hover:bg-slate-100 hover:text-slate-900' : 'text-slate-200 hover:text-white hover:bg-white/10'"
        >
          Cargas Disponíveis
        </a>
        <a
          routerLink="/cadastrar-caminhao"
          routerLinkActive="text-primary font-semibold"
          class="px-4 py-2 rounded-lg text-sm font-medium transition-colors"
          [class]="scrolled() ? 'text-slate-700 hover:bg-slate-100 hover:text-slate-900' : 'text-slate-200 hover:text-white hover:bg-white/10'"
        >
          Cadastrar Caminhão
        </a>
      </nav>

      <!-- Desktop CTA -->
      <div class="hidden lg:flex items-center gap-3">
        <a routerLink="/cadastrar-caminhao" hlmBtn size="sm" class="font-semibold">
          Cadastrar caminhão
        </a>
      </div>

      <!-- Mobile hamburger -->
      <button
        class="lg:hidden p-2 rounded-lg transition-colors"
        [class]="scrolled() ? 'text-slate-700 hover:bg-slate-100' : 'text-white hover:bg-white/10'"
        (click)="toggleMenu()"
        aria-label="Abrir menu"
      >
        @if (mobileMenuOpen()) {
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6 6 18M6 6l12 12"/>
          </svg>
        } @else {
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        }
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  @if (mobileMenuOpen()) {
    <div class="lg:hidden bg-white border-t border-slate-200 shadow-lg animate-in slide-in-from-top-2 duration-200">
      <nav class="max-w-7xl mx-auto px-4 py-4 flex flex-col gap-1">
        <a
          routerLink="/"
          routerLinkActive="text-primary font-semibold bg-primary/5"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMenu()"
          class="px-4 py-3 rounded-xl text-slate-700 text-sm font-medium hover:bg-slate-100 transition-colors"
        >
          Início
        </a>
        <a
          routerLink="/cargas-disponiveis"
          routerLinkActive="text-primary font-semibold bg-primary/5"
          (click)="closeMenu()"
          class="px-4 py-3 rounded-xl text-slate-700 text-sm font-medium hover:bg-slate-100 transition-colors"
        >
          Cargas Disponíveis
        </a>
        <a
          routerLink="/cadastrar-caminhao"
          routerLinkActive="text-primary font-semibold bg-primary/5"
          (click)="closeMenu()"
          class="px-4 py-3 rounded-xl text-slate-700 text-sm font-medium hover:bg-slate-100 transition-colors"
        >
          Cadastrar Caminhão
        </a>
        <div class="pt-2 mt-2 border-t border-slate-100">
          <a routerLink="/cadastrar-caminhao" hlmBtn (click)="closeMenu()" class="w-full font-semibold">
            Cadastrar caminhão
          </a>
        </div>
      </nav>
    </div>
  }
</header>

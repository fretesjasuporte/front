<div class="min-h-screen bg-neutral-950 flex items-center justify-center px-4 py-16">

  <!-- Background glows -->
  <div class="absolute inset-0 pointer-events-none overflow-hidden">
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-red-900/20 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-0 w-[400px] h-[400px] bg-orange-900/15 rounded-full blur-3xl"></div>
  </div>

  <div class="relative w-full max-w-md">

    <!-- Logo -->
    <div class="text-center mb-8">
      <a routerLink="/" class="inline-flex items-center gap-2.5 group">
        <div class="w-10 h-10 rounded-xl bg-primary flex items-center justify-center shadow-lg">
          <svg class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 4a1 1 0 0 1 1-1h12a1 1 0 0 1 .894.553L19.382 7H21a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1.17A3 3 0 0 1 14 17H10a3 3 0 0 1-5.83-2H4a1 1 0 0 1-1-1V4zm14.382 3-1.5-3H5v9h.17A3 3 0 0 1 10 11h4a3 3 0 0 1 4.83 2H21V9h-2a1 1 0 0 1-.894-.553L17.382 7zM8 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm6 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
          </svg>
        </div>
        <span class="text-2xl font-bold text-white tracking-tight">
          Fretes<span class="text-brand-green">JA</span>
        </span>
      </a>
      <p class="text-neutral-400 text-sm mt-3">Acesse sua conta para continuar</p>
    </div>

    <!-- Card -->
    <div class="bg-white/5 border border-white/10 backdrop-blur-sm rounded-2xl p-8">

      <h1 class="text-xl font-semibold text-white mb-6">Entrar na plataforma</h1>

      <!-- Erro geral -->
      @if (errorMessage()) {
        <div class="flex items-center gap-3 bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3 mb-6">
          <svg class="w-4 h-4 text-red-400 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/>
          </svg>
          <p class="text-red-400 text-sm">{{ errorMessage() }}</p>
        </div>
      }

      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-5">

        <!-- E-mail -->
        <div>
          <label class="block text-sm font-medium text-neutral-300 mb-1.5" for="email">
            E-mail
          </label>
          <input
            hlmInput
            id="email"
            type="email"
            placeholder="seu@email.com"
            formControlName="email"
            class="w-full bg-white/5 border-white/15 text-white placeholder:text-neutral-500 focus:border-primary"
            autocomplete="email"
          />
          @if (isInvalid('email')) {
            <p class="text-red-400 text-xs mt-1.5">Informe um e-mail válido.</p>
          }
        </div>

        <!-- Senha -->
        <div>
          <div class="flex items-center justify-between mb-1.5">
            <label class="text-sm font-medium text-neutral-300" for="password">Senha</label>
            <a routerLink="/auth/esqueci-senha" class="text-xs text-brand-green hover:text-brand-green/80 transition-colors">
              Esqueci minha senha
            </a>
          </div>
          <div class="relative">
            <input
              hlmInput
              id="password"
              [type]="showPassword() ? 'text' : 'password'"
              placeholder="••••••••"
              formControlName="password"
              class="w-full pr-10 bg-white/5 border-white/15 text-white placeholder:text-neutral-500 focus:border-primary"
              autocomplete="current-password"
            />
            <button
              type="button"
              (click)="showPassword.set(!showPassword())"
              class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-300 transition-colors"
              tabindex="-1"
            >
              @if (showPassword()) {
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                  <line x1="1" x2="23" y1="1" y2="23"/>
                </svg>
              } @else {
                <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
                </svg>
              }
            </button>
          </div>
          @if (isInvalid('password')) {
            <p class="text-red-400 text-xs mt-1.5">Informe sua senha.</p>
          }
        </div>

        <!-- Submit -->
        <button hlmBtn type="submit" size="lg" class="w-full font-semibold mt-1" [disabled]="loading()">
          @if (loading()) {
            <svg class="w-4 h-4 animate-spin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 12a9 9 0 1 1-6.219-8.56"/>
            </svg>
            Entrando...
          } @else {
            Entrar
          }
        </button>

      </form>
    </div>

    <!-- Links de cadastro -->
    <div class="mt-6 text-center space-y-2">
      <p class="text-neutral-500 text-sm">
        É motorista e ainda não tem conta?
        <a routerLink="/cadastro/caminhoneiro" class="text-brand-green hover:text-brand-green/80 font-medium transition-colors ml-1">
          Cadastre-se
        </a>
      </p>
      <p class="text-neutral-500 text-sm">
        É transportadora?
        <a routerLink="/cadastro/transportadora" class="text-brand-green hover:text-brand-green/80 font-medium transition-colors ml-1">
          Criar conta empresarial
        </a>
      </p>
    </div>

  </div>
</div>
